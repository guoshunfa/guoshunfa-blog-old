---
title: 文件相关的操作
date: 2022-02-16 15:46:43
permalink: /pages/b21838/
tags: 
  - null
author: 
  name: 熊猫 code
  link: https://pandacode.cn
categories: 
  - 软件服务运维
  - 服务器运维
  - 脚本
  - shell
---
# 文件相关操作

## 1. tar、zip、rar 解压缩

参考中文文档：[tar](http://linux.51yip.com/search/tar)、[rar](http://linux.51yip.com/search/rar)、[unrar](http://linux.51yip.com/search/unrar)、[zip](http://linux.51yip.com/search/zip)、[unzip](http://linux.51yip.com/search/unzip)

### 1.1. tar 命令

语法： tar [主选项 + 辅选项] 文件或目录

示例：

```sh
# 压缩文件 file1 和目录 dir2 到 test.tar.gz
tar -zcvf test.tar.gz file1 dir2

# 解压 test.tar.gz（将 c 换成 x 即可）
tar -zxvf test.tar.gz

# 列出压缩文件的内容
tar -ztvf test.tar.gz 

# 解压到指定目录
tar -zxvf test.tar.gz -C /home
```

释义：

- -z : 使用 gzip 来压缩和解压文件

- -v : --verbose 详细的列出处理的文件

- -f : --file=ARCHIVE 使用档案文件或设备，这个选项通常是必选的

- -c : --create 创建一个新的归档（压缩包）

- -x : 从压缩包中解出文件

其它：

tar 命令其实并不是真的解压缩的处理者，而是使用了 gzip 或者 bzip2 等其它命令来达成，但是 gzip 等命令通常只能处理单个文件，并不方便，所以一般我们都是选择使用 tar 命令间接的完成解压缩。

### 1.2. rar 命令

示例：

```sh
# 压缩文件
rar a -r test.rar file

# 解压文件
unrar x test.rar
```

释义：

- a : 添加到压缩文件

- -r : 递归处理

- x : 以绝对路径解压文件

### 1.3. zip 命令

示例：

```sh
# 压缩文件
zip -r test.zip file

# 解压文件
unzip test.zip
```

释义：

- -r : 递归处理

## 2. mv 文件移动

> mv: move

将一个文件移动到另一个文件内

```sh
mv /file1/file.txt /file2
```

合理利用 \* 号。（\*代表模糊查询。）

```sh
# 将一个文件内所有文件，移动到另一个文件内
mv /file1/* /file2
# 将文件内所有jpg类型的文件，移动到另一个文件内
mv /file1/*.jpg /file2
```

## 3. scp 服务器之间copy文件

```sh
scp -r tank@192.16.1.108:/var/www/blog /home/www/blog  # 以tank用户登录并将服务器文件夹copy到本地
scp /home/www/blog/index.php 192.16.1.108:/var/www/blog # 将本地文件copy到服务器，添填写用户，默认当前用户
```



