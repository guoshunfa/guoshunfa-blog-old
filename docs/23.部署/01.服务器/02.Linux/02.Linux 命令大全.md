---
title: Linux 命令大全
date: 2021-10-27 14:16:15
permalink: /pages/f667de/
tags: 
  - null
categories: 
  - 部署
  - 服务器
  - Linux
---

# Linux 命令大全

[线上Linux命令查询平台](http://linux.51yip.com/) 

## 1. ssh 命令 连接服务器

### 1.1. 命令

-  `ssh 用户名@主机IP`
-  `ssh 主机IP`
-  `ssh -i pem文件路径 用户名@主机IP`

### 1.2. ssh通过pem文件登陆服务器

一些为了安全操作，推荐使用私钥进行登录服务器，拿jenkins来说，默认的验证方式就是私钥

#### 1.2.1. 实现方式

先在**本机**通过ssh-keygen直接生成公私钥

如下在当前文件夹下生成my.pem(私钥)和my.pem.pub(公钥)

`ssh-keygen -t rsa -f my.pem`

参数说明：-t type密钥类型（rsa、dsa...），-f生成文件名

#### 1.2.2. 生成的文件

my.pem 和 my.pem.pub

1. 将my.pem.pub内容上传至你需要连接的服务器

2. 操作步骤，编辑authorized_keys文件，路径在当前用户目录下的.ssh文件夹下

3. 将生成的pub文件的内容追加到authorized_keys文件中

保存退出之后就可以通过`ssh -i file.pem user@ip`访问了

### 1.3. ssh 携带密码登录-sshpass

#### 1.3.1. 安装sshpass

##### mac安装，直接执行sh文件。

```shell
var=`brew list|grep sshpass`
if [ "$var" = "sshpass" ]
then echo "sshpass已安装"
else 
echo "开始安装sshpass"
wget https://raw.githubusercontent.com/kadwanev/bigboybrew/master/Library/Formula/sshpass.rb
brew install sshpass.rb
rm sshpass.rb
echo "sshpass安装成功"
fi
```

#### 1.3.2. 使用

`sshpass -p [passwd] ssh -p [port] root@192.168.X.X`

## 2. tar、zip、rar 解压缩

参考中文文档：[tar](http://linux.51yip.com/search/tar)、[rar](http://linux.51yip.com/search/rar)、[unrar](http://linux.51yip.com/search/unrar)、[zip](http://linux.51yip.com/search/zip)、[unzip](http://linux.51yip.com/search/unzip)

### 2.1. tar 命令

语法： tar [主选项 + 辅选项] 文件或目录

示例：

```sh
# 压缩文件 file1 和目录 dir2 到 test.tar.gz
tar -zcvf test.tar.gz file1 dir2

# 解压 test.tar.gz（将 c 换成 x 即可）
tar -zxvf test.tar.gz

# 列出压缩文件的内容
tar -ztvf test.tar.gz 
```

释义：

> -z : 使用 gzip 来压缩和解压文件
>
> -v : --verbose 详细的列出处理的文件
>
> -f : --file=ARCHIVE 使用档案文件或设备，这个选项通常是必选的
>
> -c : --create 创建一个新的归档（压缩包）
>
> -x : 从压缩包中解出文件

其它：

tar 命令其实并不是真的解压缩的处理者，而是使用了 gzip 或者 bzip2 等其它命令来达成，但是 gzip 等命令通常只能处理单个文件，并不方便，所以一般我们都是选择使用 tar 命令间接的完成解压缩。

### 2.2. rar 命令

示例：

```sh
# 压缩文件
rar a -r test.rar file

# 解压文件
unrar x test.rar
```

释义：

> a : 添加到压缩文件
>
> -r : 递归处理
>
> x : 以绝对路径解压文件

### 2.3. zip 命令

示例：

```sh
# 压缩文件
zip -r test.zip file

# 解压文件
unzip test.zip
```

释义：

> -r : 递归处理

## 常用命令

| 命令     | 命令直译                    | 描述                                                         | 实例                     |
| :------- | --------------------------- | ------------------------------------------------------------ | ------------------------ |
| ls       | List                        | ls会列举出当前工作目录的内容（文件或文件夹）。               | `ls`                     |
| mkdir    | Make Directory              | mkdir 用于新建一个新目录                                     | `mkdir mywork`           |
| pwd      | Print Working Directory     | 显示当前工作目录                                             | `pwd`                    |
| cd       | Change Directory            | 切换文件路径，cd 将给定的文件夹（或目录）设置成当前工作目录。 | `cd /usr/mongo`          |
| rmdir    | Remove Directory            | 删除给定的目录，只能删除空目录（目录下不能有文件）。         | `rmdir mywork`           |
| rm       | Remove                      | rm 会删除给定的文件。<br/> rm -rf会删除一个文件夹，r遍历，f强行删除。（终端删除的文件不可恢复）<br/ > | `rm work.html`           |
| cp       | Copy                        | cp 命令对文件进行复制<br/> `cp [选项] 源文件 目标文件`       | `cp work.html /usr/work` |
| mv       | Move                        | mv 命令对文件或文件夹进行移动，如果文件或文件夹存在于当前工作目录，还可以对文件或文件夹进行重命名。<br/> `mv [选项] 源文件 目标文件` | `mv work.html /usr/work` |
| cat      | concatenate and print files | cat 用于在标准输出（监控器或屏幕）上查看文件内容             | `cat work.html`          |
| tail     | print TAIL(from last)       | tail 默认在标准输出上显示给定文件的最后10行内容。<br/>tail -n N 指定在标准输出上显示文件的最后N行内容。<br/>tail -f 持续跟踪文件情况，用于实时查看日志。 | `tail work.html`         |
| less     | print LESS                  | less 按页或按窗口打印文件内容。在查看包含大量文本数据的大文件时是非常有用和高效的。你可以使用Ctrl+F向前翻页，Ctrl+B向后翻页。 |                          |
| grep     |                             | grep 在给定的文件中搜寻指定的字符串。grep -i “” 在搜寻时会忽略字符串的大小写，而grep -r “” 则会在当前工作目录的文件中递归搜寻指定的字符串。 |                          |
| find     |                             | 这个命令会在给定位置搜寻与条件匹配的文件。你可以使用find -name 的-name选项来进行区分大小写的搜寻，find -iname 来进行不区分大小写的搜寻。 | `find -iname work.html`  |
| tar      |                             | tar命令能创建、查看和提取tar压缩文件。tar -cvf 是创建对应压缩文件，tar -tvf 来查看对应压缩文件，tar -xvf 来提取对应压缩文件。 |                          |
| gzip     |                             | gzip 命令创建和提取gzip压缩文件，还可以用gzip -d 来提取压缩文件。 |                          |
| unzip    |                             | unzip 对gzip文档进行解压。在解压之前，可以使用unzip -l 命令查看文件内容。 |                          |
| help     |                             | help会在终端列出所有可用的命令,可以使用任何命令的-h或-help选项来查看该命令的具体用法。图就省略啦，会有详细列表显示出来的。 |                          |
| whatis   | What is this command        | whatis 会用单行来描述给定的命令，就是解释当前命令。          |                          |
| exit     |                             | exit用于结束当前的终端会话。                                 |                          |
| ping     |                             | ping 通过发送数据包ping远程主机(服务器)，常用与检测网络连接和服务器状态。 |                          |
| who      | Who Is logged in            | who能列出当前登录的用户名。                                  |                          |
| su       | Switch User                 | su 用于切换不同的用户。即使没有使用密码，超级用户也能切换到其它用户。 |                          |
| uname    |                             | uname会显示出关于系统的重要信息，如内核名称、主机名、内核版本、处理机类型等等，使用uname -a可以查看所有信息。 |                          |
| df       | Disk space Free             | df查看文件系统中磁盘的使用情况–硬盘已用和可用的存储空间以及其它存储设备。你可以使用df -h将结果以人类可读的方式显示。 |                          |
| ps       | ProcesseS                   | ps显示系统的运行进程。                                       |                          |
| top      | Top processes               | top命令会默认按照CPU的占用情况，显示占用量较大的进程,可以使用top -u 查看某个用户的CPU使用排名情况。 |                          |
| shutdown |                             | shutdown用于关闭计算机，而shutdown -r用于重启计算机。        |                          |
|          |                             |                                                              |                          |



| 命令                        | 描述               |
| --------------------------- | ------------------ |
|                             |                    |
| `lsof -i:端口号`            | 查看端口号使用情况 |
| `netstat -nltp|grep 端口号` |                    |
| `ps -ef|grep mongo`         |                    |
|                             |                    |
|                             |                    |

