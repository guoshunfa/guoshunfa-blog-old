---
title: 框架集成 Mybatis(持久层框架)
date: 2021-10-27 11:31:54
permalink: /pages/441aee/
tags: 
  - SpringBoot
author: 
  name: 熊猫 code
  link: https://pandacode.cn
categories: 
  - Java 相关框架和组件
  - Java 相关组件
---

# 框架集成 Mybatis(持久层框架)

## 1. 开始

### 1.1. 引入Mybatis maven库

```xml
<dependency>
  <groupId>org.mybatis.spring.boot</groupId>
  <artifactId>mybatis-spring-boot-starter</artifactId>
  <version>2.1.2</version>
</dependency>
```

### 1.2. 配置文件配置mybatis信息

```yaml
#整合mybatis,设置别名，识别mapper文件
mybatis:
	# 扫描包
  type-aliases-package: com.test
  # mapper文件扫描
  mapper-locations: classpath:mapper/*.xml
```

### 2. Mybatis 事例

```java
@Mapper
public interface UserTestMapper {

    int userAgeAddOne(@Param("id") String id,@Param("version") int version);

    @Select("select * from test_user")
    List<TestUser> findAll();

    @Select("select * from test_user where id = #{id}")
    TestUser findById(@Param("id") String id);
}
```

```xml
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.test.mysql.mapper.UserTestMapper">
    <update id="userAgeAddOne" parameterType="String">
         update test_user set age=age+1,version=version+1 where id=#{id} and version=#{version};
    </update>
</mapper>
```

